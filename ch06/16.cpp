#include <iostream>


using namespace std;

/* 
 * Conversion table.
 * 0xFF means it cannot be converted into number
 */
static const int atoi_table[256] =
{
    /*
     * 0     1     2     3     4     5     6     7
     * 8     9     A     B     C     D     E     F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x00 ~ 0x07 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x08 ~ 0x0F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x10 ~ 0x17 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x18 ~ 0x1F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x20 ~ 0x27 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x28 ~ 0x2F */
    0,    1,    2,    3,    4,    5,    6,    7, /* 0x30 ~ 0x37 */
    8,    9, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x38 ~ 0x3F */
    0xFF,   10,   11,   12,   13,   14,   15,   16, /* 0x40 ~ 0x47 */
    17,   18,   19,   20,   21,   22,   23,   24, /* 0x48 ~ 0x4F */
    25,   26,   27,   28,   29,   30,   31,   32, /* 0x50 ~ 0x57 */
    33,   34,   35, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x58 ~ 0x5F */
    0xFF,   10,   11,   12,   13,   14,   15,   16, /* 0x60 ~ 0x67 */
    17,   18,   19,   20,   21,   22,   23,   24, /* 0x68 ~ 0x6F */
    25,   26,   27,   28,   29,   30,   31,   32, /* 0x70 ~ 0x77 */
    33,   34,   35, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x78 ~ 0x7F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x80 ~ 0x87 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x88 ~ 0x8F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x90 ~ 0x97 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0x98 ~ 0x9F */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xA0 ~ 0xA7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xA8 ~ 0xAF */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xB0 ~ 0xB7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xB8 ~ 0xBF */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xC0 ~ 0xC7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xC8 ~ 0xCF */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xD0 ~ 0xD7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xD8 ~ 0xDF */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xE0 ~ 0xE7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xE8 ~ 0xEF */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, /* 0xF0 ~ 0xF7 */
    0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF  /* 0xF8 ~ 0xFF */
};


int my_atoi(const char *str, int base = 10)
{
    int result = 0;
    
    do
    {
        result *= base;
        result += atoi_table[*str];

        str++;
    } while (*str != 0);

    return result;
}

int main(void)
{
    cout << my_atoi("12345") << endl;
    cout << my_atoi("1234512345", 10) << endl;
    cout << my_atoi("A", 16) << endl;
    cout << my_atoi("ABAC", 16) << endl;
    cout << my_atoi("123", 8) << endl;
    
}

